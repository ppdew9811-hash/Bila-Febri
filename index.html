<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesan Sayang dari Febri</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
            background: #000;
        }
        
        /* Video YouTube background */
        #youtubeBackground {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -2;
        }
        
        /* Overlay untuk baca teks */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.6);
            z-index: -1;
        }
        
        /* Konten */
        .container {
            max-width: 700px;
            background: rgba(0, 0, 0, 0.75);
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            line-height: 1.6;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            margin-bottom: 30px;
        }
        
        .message p {
            margin-bottom: 25px;
            font-size: 1.2rem;
        }
        
        .signature {
            color: #ff4081;
            font-weight: bold;
            font-size: 1.3rem;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 64, 129, 0.3);
        }
        
        /* Tombol utama */
        .play-button {
            background: linear-gradient(45deg, #ff4081, #ff80ab);
            color: white;
            border: none;
            padding: 18px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(255, 64, 129, 0.4);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            animation: pulse 2s infinite;
        }
        
        .play-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 64, 129, 0.6);
        }
        
        .play-button:active {
            transform: translateY(-1px);
        }
        
        .play-button.playing {
            background: linear-gradient(45deg, #4CAF50, #2E7D32);
            animation: none;
            box-shadow: 0 5px 20px rgba(76, 175, 80, 0.4);
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .button-text {
            font-weight: bold;
        }
        
        /* Responsif */
        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
                margin: 20px;
            }
            
            .play-button {
                padding: 16px 30px;
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Video YouTube -->
    <div id="youtubeBackground">
        <!-- Akan diisi JavaScript -->
    </div>
    
    <!-- Overlay gelap -->
    <div class="overlay"></div>
    
    <!-- Pesan -->
    <div class="container">
        <div class="message">
            <p>Sayang, aku tahu UAS bikin kamu cemas, tapi aku percaya kamu jauh lebih kuat dari yang kamu pikirkan. Kamu sudah belajar, kamu sudah berusaha, dan itu sudah cukup untuk membuatmu melangkah dengan tenang.</p>
            <p>Nggak apa-apa kalau kamu merasa belum siap, yang penting kamu mau maju pelan-pelan. Kamu nggak sendirian. Kamu pasti bisa, cintaku. ‚ù§Ô∏è</p>
            <p class="signature">With love - Febri</p>
        </div>
    </div>
    
    <!-- SATU TOMBOL SAJA -->
    <button class="play-button" id="startButton">
        <span style="font-size: 1.5rem;">‚ñ∂Ô∏è</span>
        <span class="button-text">PUTAR MUSIK & VIDEO</span>
    </button>

    <script>
        // VIDEO YANG DIMINTA: https://www.youtube.com/watch?v=HEAn4FqXFY4
        const videoId = 'HEAn4FqXFY4';
        let player;
        let isPlaying = false;
        
        document.addEventListener('DOMContentLoaded', function() {
            const startButton = document.getElementById('startButton');
            const youtubeDiv = document.getElementById('youtubeBackground');
            
            // Load YouTube IFrame API
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            
            // Fungsi ketika YouTube API siap
            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('youtubeBackground', {
                    height: '100%',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'autoplay': 0, // Tidak autoplay dulu
                        'mute': 1, // Mute di awal
                        'loop': 1,
                        'playlist': videoId,
                        'controls': 0,
                        'showinfo': 0,
                        'modestbranding': 1,
                        'rel': 0
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                });
            };
            
            function onPlayerReady(event) {
                console.log("YouTube Player siap");
                // Video sudah dimuat, tapi belum diputar
            }
            
            function onPlayerStateChange(event) {
                if (event.data === YT.PlayerState.PLAYING) {
                    console.log("Video sedang diputar");
                    isPlaying = true;
                    updateButton();
                } else if (event.data === YT.PlayerState.PAUSED) {
                    console.log("Video dijeda");
                    isPlaying = false;
                    updateButton();
                }
            }
            
            // Fungsi untuk mulai mainkan video dengan suara
            function startVideoWithSound() {
                if (!player) return;
                
                console.log("Memulai video dengan suara...");
                
                // 1. Unmute video
                player.unMute();
                
                // 2. Set volume ke 100%
                player.setVolume(100);
                
                // 3. Play video
                player.playVideo();
                
                // 4. Update tombol
                startButton.innerHTML = '<span style="font-size: 1.5rem;">üîä</span><span class="button-text">MUSIK SEDANG BERMAIN</span>';
                startButton.classList.add('playing');
                startButton.disabled = true;
                
                // 5. Otomatis enable tombol lagi setelah 3 detik
                setTimeout(() => {
                    startButton.disabled = false;
                }, 3000);
                
                console.log("Video diputar dengan suara!");
            }
            
            // Fungsi update tombol
            function updateButton() {
                if (isPlaying) {
                    startButton.innerHTML = '<span style="font-size: 1.5rem;">‚è∏Ô∏è</span><span class="button-text">JEDA MUSIK</span>';
                    startButton.classList.add('playing');
                } else {
                    startButton.innerHTML = '<span style="font-size: 1.5rem;">‚ñ∂Ô∏è</span><span class="button-text">PUTAR MUSIK & VIDEO</span>';
                    startButton.classList.remove('playing');
                }
            }
            
            // Event listener untuk tombol
            startButton.addEventListener('click', function() {
                if (!player) {
                    console.log("Player belum siap, mencoba lagi...");
                    return;
                }
                
                if (!isPlaying) {
                    startVideoWithSound();
                } else {
                    // Jika sudah playing, pause video
                    player.pauseVideo();
                    isPlaying = false;
                    updateButton();
                }
            });
            
            // Fallback: Jika YouTube API gagal, gunakan iframe biasa
            setTimeout(() => {
                if (!player) {
                    console.log("YouTube API gagal, gunakan iframe biasa");
                    
                    // Buat iframe biasa
                    const iframe = document.createElement('iframe');
                    iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=0&mute=1&loop=1&playlist=${videoId}&controls=0&showinfo=0&modestbranding=1&rel=0`;
                    iframe.style.width = '100%';
                    iframe.style.height = '100%';
                    iframe.style.border = 'none';
                    iframe.allow = 'autoplay; encrypted-media';
                    iframe.allowFullscreen = true;
                    
                    youtubeDiv.appendChild(iframe);
                    
                    // Update fungsi tombol untuk iframe biasa
                    startButton.addEventListener('click', function() {
                        if (!isPlaying) {
                            // Coba unmute dan play
                            try {
                                iframe.contentWindow.postMessage('{"event":"command","func":"unMute","args":""}', '*');
                                iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
                                
                                startButton.innerHTML = '<span style="font-size: 1.5rem;">üîä</span><span class="button-text">MUSIK SEDANG BERMAIN</span>';
                                startButton.classList.add('playing');
                                isPlaying = true;
                            } catch(e) {
                                console.log("Error:", e);
                                alert("Klik tombol play di video YouTube yang muncul");
                            }
                        }
                    });
                }
            }, 3000);
        });
    </script>
</body>
</html>
