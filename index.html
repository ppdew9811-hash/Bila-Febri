<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesan Sayang dari Febri</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }
        
        /* Video background */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }
        
        .video-background iframe {
            width: 100vw;
            height: 100vh;
            transform: scale(1.2);
            opacity: 0.15;
            pointer-events: none;
        }
        
        /* Konten utama */
        .container {
            max-width: 800px;
            background-color: rgba(255, 255, 255, 0.97);
            padding: 60px 50px;
            border-radius: 20px;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.4);
            text-align: center;
            line-height: 1.8;
            position: relative;
            z-index: 1;
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.5);
        }
        
        .message p {
            margin-bottom: 35px;
            font-size: 1.4rem;
            color: #444;
        }
        
        .signature {
            color: #e91e63;
            font-weight: bold;
            font-size: 1.7rem;
            margin-top: 40px;
            padding-top: 25px;
            border-top: 3px solid rgba(233, 30, 99, 0.3);
        }
        
        /* Responsif */
        @media (max-width: 768px) {
            .container {
                padding: 40px 25px;
                margin: 20px;
            }
            
            .message p {
                font-size: 1.2rem;
            }
            
            .video-background iframe {
                transform: scale(1.5);
                opacity: 0.1;
            }
        }
    </style>
</head>
<body>
    <!-- VIDEO YOUTUBE DENGAN SUARA - TRICK KHUSUS -->
    <div class="video-background">
        <iframe 
            src="https://www.youtube-nocookie.com/embed/HEAn4FqXFY4?autoplay=1&loop=1&playlist=HEAn4FqXFY4&controls=0&showinfo=0&modestbranding=1&rel=0&mute=0&enablejsapi=1&playback=1"
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen
            id="youtubePlayer">
        </iframe>
    </div>
    
    <!-- Konten pesan -->
    <div class="container">
        <div class="message">
            <p>Sayang, aku tahu UAS bikin kamu cemas, tapi aku percaya kamu jauh lebih kuat dari yang kamu pikirkan. Kamu sudah belajar, kamu sudah berusaha, dan itu sudah cukup untuk membuatmu melangkah dengan tenang.</p>
            <p>Nggak apa-apa kalau kamu merasa belum siap, yang penting kamu mau maju pelan-pelan. Kamu nggak sendirian. Kamu pasti bisa, cintaku. <span style="color:#e91e63;font-size:1.8rem;">ü§ç‚ú®</span></p>
            <p class="signature">With love - Febri</p>
        </div>
    </div>

    <script>
        // ====== TRICK UNTUK AUTOPLAY DENGAN SUARA ======
        
        // TRICK 1: Gunakan YouTube Iframe API untuk kontrol lebih baik
        let player;
        
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtubePlayer', {
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }
        
        function onPlayerReady(event) {
            console.log("Player siap");
            
            // TRICK: Play video dengan volume 0 dulu, lalu naikkan
            event.target.setVolume(0);
            event.target.playVideo();
            
            // Setelah 500ms, naikkan volume perlahan
            setTimeout(() => {
                event.target.setVolume(30);
                setTimeout(() => {
                    event.target.setVolume(60);
                    setTimeout(() => {
                        event.target.setVolume(80);
                        console.log("Volume maksimal!");
                    }, 500);
                }, 500);
            }, 500);
        }
        
        function onPlayerStateChange(event) {
            console.log("Player state:", event.data);
        }
        
        // TRICK 2: Auto click simulation untuk bypass autoplay policy
        function simulateUserInteraction() {
            console.log("Simulating user interaction...");
            
            // Simulasi berbagai event yang dianggap sebagai "user interaction"
            const events = [
                'click', 'mousedown', 'mouseup', 'mousemove',
                'touchstart', 'touchend', 'touchmove',
                'keydown', 'keyup'
            ];
            
            events.forEach(eventType => {
                const event = new Event(eventType, {
                    bubbles: true,
                    cancelable: true
                });
                document.dispatchEvent(event);
            });
            
            // Click pada body
            document.body.click();
            
            // Focus pada window
            window.focus();
            
            console.log("User interaction simulated");
        }
        
        // TRICK 3: Multiple attempts untuk play video
        let attempts = 0;
        const maxAttempts = 10;
        
        function tryForcePlay() {
            attempts++;
            console.log(`Attempt ${attempts} to force play...`);
            
            if (attempts >= maxAttempts) {
                console.log("Max attempts reached");
                return;
            }
            
            // Coba unmute dan play jika player sudah ada
            if (player && player.playVideo) {
                player.unMute();
                player.playVideo();
                
                // Naikkan volume secara bertahap
                const volumes = [0, 20, 40, 60, 80];
                volumes.forEach((vol, index) => {
                    setTimeout(() => {
                        player.setVolume(vol);
                    }, index * 300);
                });
            }
            
            // Coba lagi setiap 2 detik
            setTimeout(tryForcePlay, 2000);
        }
        
        // TRICK 4: Gunakan service worker untuk bypass autoplay
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(console.error);
        }
        
        // TRICK 5: Event listeners untuk trigger autoplay
        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM loaded, starting autoplay tricks...");
            
            // Simulasi interaksi segera
            setTimeout(simulateUserInteraction, 100);
            setTimeout(simulateUserInteraction, 500);
            setTimeout(simulateUserInteraction, 1000);
            
            // Mulai force play attempts
            setTimeout(tryForcePlay, 1500);
            
            // Tambah event listeners untuk berbagai interaksi
            const playTriggers = ['scroll', 'mousemove', 'touchstart', 'keydown'];
            playTriggers.forEach(trigger => {
                document.addEventListener(trigger, function triggerPlay() {
                    console.log(`${trigger} detected, trying to play...`);
                    if (player) {
                        player.playVideo();
                        player.setVolume(80);
                    }
                    // Hapus setelah berhasil (optional)
                    document.removeEventListener(trigger, triggerPlay);
                }, { once: true });
            });
            
            // Fallback: reload iframe dengan parameter berbeda
            setTimeout(() => {
                const iframe = document.getElementById('youtubePlayer');
                const currentSrc = iframe.src;
                
                // Coba dengan parameter berbeda
                if (!currentSrc.includes('autoplay=1')) {
                    iframe.src = currentSrc + '&autoplay=1';
                }
                
                // Coba tanpa nocookie domain
                if (currentSrc.includes('youtube-nocookie')) {
                    const regularSrc = currentSrc.replace('youtube-nocookie', 'youtube');
                    const backupIframe = document.createElement('iframe');
                    backupIframe.src = regularSrc;
                    backupIframe.style.cssText = iframe.style.cssText;
                    iframe.parentNode.replaceChild(backupIframe, iframe);
                }
            }, 3000);
        });
        
        // TRICK 6: Background tab detection and resume
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden && player) {
                console.log("Tab aktif kembali, resume video");
                player.playVideo();
            }
        });
        
        // Load YouTube Iframe API
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        
    </script>
</body>
</html>
